<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Document</title>
<style>
#wrapper{
    width:700px;
    height:600px;
    border: 2px solid red;
    margin: auto;
    position: relative;
}
</style>
<script src="../js/lib.js"></script>
<script>
var wrapper;
var bar= new Array(7);
var a=0.1;
var targetH=20; //바의 목표 높이
var cr = new Array(7);
var r=new Array(7);

cr[0]="red";
cr[1]="orange";
cr[2]="yellow";
cr[3]="green";
cr[4]="blue";
cr[5]="navy";
cr[6]="purple";

//막대생성
function createBar(){
    for(var i=0; i<bar.length; i++){
        bar[i]=document.createElement("div");
        bar[i].style.position="absolute";
        bar[i].style.left=(i*65)+"px";
        bar[i].style.top=0+"px";
        bar[i].style.width=65+"px";
        bar[i].style.height=20+"px";
        bar[i].style.background=cr[i];
        bar[i].style.borderRadius="4px";
        wrapper.appendChild(bar[i]);
        //막대에 마우스 오버 이벤트 구현하기
        bar[i].addEventListener("mouseover", function(){
            targetH=r[i];
            console.log("targetH=",targetH);
        });
        bar[i].addEventListener("mouseout", function(){
            targetH=20;
        });
    }
}

//막대크기 변경 함수
function move(){
    for(var i=0; i<bar.length; i++){
    bar[i].style.height = parseFloat(bar[i].style.height) + a*(targetH-parseFloat(bar[i].style.height))+"px";
    bar[i].innerText=parseFloat(bar[i].style.height);
    }
}
function init(){
    wrapper=document.getElementById("wrapper");
    createBar();
    setInterval("move()",10);
    //setInterval("Random()",10);

}
function Random(){
    for(var i=0; i<r.length; i++){
        r[i]=getRandom(500);
        console.log("r=",r);
    }
}
window.addEventListener("load", function(){
    init();
});
</script>
</head>
<body>
    <div id="wrapper"></div>

</body>
</html>